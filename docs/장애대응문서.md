# 백엔드 시스템 장애 보고서

**작성자**: 홍석호  
**작성일**: 2025-06-06  
**버전**: 1.0

## 개요

**핵심 요약**: 판매 이벤트 중 트래픽이 10배 급증하여 30분간 서비스 장애가 발생했습니다. 10,000명이 영향받았습니다. 용량 계획과 자동 스케일링으로 재발을 방지합니다.

**이 문서에서 확인할 수 있는 정보**:
- 장애 원인과 해결 방안
- 재발 방지를 위한 액션 플랜
- 시스템 확장성 개선 방향

## 장애 상황

### 발생 일시 및 영향도
- **발생 시간**: 2025년 6월 5일 14:30 ~ 15:00 (30분)
- **영향 사용자**: 약 10,000명 (동시 접속자 기준)
- **영향 기능**: 상품 조회, 상위 상품 조회, 쿠폰 조회
- **장애 증상**: 3초 요청 타임아웃, 레디스 연결 실패

### 근본 원인
판매 이벤트로 트래픽이 평소 대비 10배 급증했습니다. 레디스 동시 연결 수가 한계를 초과하면서 응답 지연이 발생했습니다. 백엔드 서버에서 레디스 연결 타임아웃이 발생하여 DB 직접 조회로 전환되었습니다. 이로 인해 전체 시스템 응답 시간이 급증했습니다.

**핵심 문제**: 이벤트 트래픽 급증에 대한 용량 계획 부족

## 해결 및 예방 조치

### 즉시 조치 (완료)
**레디스 연결 설정 변경**: 연결 타임아웃을 3초에서 10초로 증가했습니다. 레디스 서버를 재시작하여 정상 서비스를 복구했습니다.

### 단기 조치 (1개월 내)
**모니터링 시스템 구축**: 
- 레디스 동시 연결 수, CPU 사용률, 응답 시간을 실시간으로 모니터링합니다
- 연결 수가 80% 초과 시 자동 알림을 발송합니다

### 중장기 조치 (3개월 내)
**시스템 확장성 개선**:
- 레디스 클러스터를 구축하여 요청을 분산 처리합니다
- 트래픽 급증 시 레디스 인스턴스가 자동으로 확장되도록 설정합니다
- 과거 이벤트 데이터를 분석하여 용량 계획을 수립합니다
- 실제 트래픽과 동일한 조건에서 부하 테스트를 진행합니다

### 프로세스 개선
**이벤트 대응 프로세스**:
- 대규모 이벤트 전 용량을 사전 점검합니다
- 트래픽 급증 장애 대응 매뉴얼을 작성하고 팀 교육을 실시합니다

## 학습 사항

**기술적 개선점**: 대규모 이벤트 전에 예상 트래픽을 계산하고 부하 테스트를 진행해야 합니다.

**프로세스 개선점**: 이벤트 규모에 따른 시스템 용량 점검 절차를 사전에 수립해야 합니다.